<?php
require "header.php";
?>

<div class="row">
    <div class="col-lg-12">
        <h1>Upload 01</h1>
        <p>
            The objective of this exercise is to find the vulnerability
            in the upload functionality.
        </p>

<?php
if (isset($_FILES['image'])) {
    $dir  = '/var/www/upload/';
    $file = basename($_FILES['image']['name']);

    if (move_uploaded_file($_FILES['image']['tmp_name'], $dir . $file)) {
        echo "Upload done";
        echo 'Your file can be found <a href="/upload/' .
             htmlentities($file) .
             '">here</a>';
    } else {
        echo "Upload failed";
    }
}
?>
    </div>
</div>
